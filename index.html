<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-AmbuBag - A Portable Automated BVM</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

    <style>
        /* ---------------------------------- */
        /* Global Styles & Resets             */
        /* ---------------------------------- */
        html {
            scroll-behavior: smooth;
            /* Offsets scroll-to-id for the fixed nav bar */
            scroll-padding-top: 70px; 
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Lato', 'Helvetica', sans-serif;
            background-color: #ffffff;
            color: #333333; /* Dark gray for text */
            line-height: 1.7;
            font-size: 1.1rem;
        }

        * {
            box-sizing: border-box;
        }

        /* ---------------------------------- */
        /* Typography & Links                 */
        /* ---------------------------------- */
        h1, h2, h3, h4 {
            font-weight: 700;
            color: #1a1a1a;
            margin-top: 0;
            margin-bottom: 25px; /* Added more spacing */
        }

        h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 50px; /* More spacing */
            padding-bottom: 15px;
            border-bottom: 3px solid #005A9C; /* Accent color */
            display: inline-block;
        }

        h3 {
            font-size: 1.9rem;
            color: #005A9C;
            margin-bottom: 30px;
        }
        
        h4 {
            font-size: 1.2rem;
            color: #333;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #005A9C;
            padding-bottom: 8px;
            display: inline-block;
            margin-top: 25px;
        }

        p {
            margin-bottom: 1.5rem;
        }

        a {
            color: #005A9C;
            text-decoration: none;
            font-weight: 700;
        }

        a:hover {
            text-decoration: underline;
        }

        /* ---------------------------------- */
        /* Layout Containers                  */
        /* ---------------------------------- */
        .container {
            width: 90%;
            max-width: 1100px;
            margin: 0 auto;
            padding: 80px 0; /* Generous padding */
        }

        .container-center {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .split-layout {
            display: flex;
            flex-direction: column; /* Mobile-first */
            gap: 40px;
            margin-bottom: 30px;
            align-items: center;
        }

        .split-layout .text-content {
            flex: 1.2;
            text-align: left;
        }

        .split-layout .image-container {
            flex: 1;
            text-align: center;
            margin-top: 10px;
        }

        .split-layout img {
            max-width: 100%;
            border-radius: 12px; /* Soft corners */
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        }

        .image-container figcaption {
            margin-top: 15px;
            font-style: italic;
            color: #555;
            font-size: 0.95rem;
        }

        /* ---------------------------------- */
        /* 1. Navigation Bar                  */
        /* ---------------------------------- */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            height: 70px;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        nav li {
            margin: 5px 20px;
        }

        nav a {
            font-weight: 700;
            font-size: 1rem;
            color: #333;
            text-decoration: none;
            transition: color 0.3s;
            padding: 5px 0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        nav a:hover {
            color: #005A9C;
            text-decoration: none;
        }

        /* ---------------------------------- */
        /* 2. Hero Section                    */
        /* ---------------------------------- */
        header.hero {
            position: relative;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            color: white;
            padding: 0 20px;
            /* Corrected: Exact case sensitivity for .jpeg extension */
            background-image: url('https://raw.githubusercontent.com/Friends-of-Indus-Hospital/Auto-Ambu-Bag/main/images/Complete%20Device%20and%20BVM%202.JPEG');
        }

        header.hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6); /* Darker overlay for readability */
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-content h1 {
            font-size: 3.8rem;
            margin-bottom: 15px;
            color: #ffffff;
        }

        .hero-content p {
            font-size: 1.5rem;
            font-weight: 300;
            max-width: 800px;
        }

        /* ---------------------------------- */
        /* 3. "The Project" Section           */
        /* ---------------------------------- */
        section {
            padding-top: 70px; /* Offset for fixed nav */
        }
        
        section:nth-of-type(even) {
            background-color: #f9f9f9;
        }

        ul.requirements-list {
            list-style-type: none;
            padding-left: 0;
        }

        ul.requirements-list li {
            position: relative;
            padding-left: 35px;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        ul.requirements-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            top: 0;
            color: #005A9C;
            font-weight: 900;
            font-size: 1.2rem;
        }

        /* ---------------------------------- */
        /* 4. "Engineering Notebook" Section  */
        /* ---------------------------------- */
        .entry {
            background: #ffffff;
            border: 1px solid #eee;
            border-radius: 12px; /* Soft corners */
            padding: 35px 45px;
            margin-bottom: 40px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.05);
            text-align: left;
            width: 100%;
        }

        ul.design-bullets {
            list-style: none;
            padding-left: 0;
            margin-top: 25px;
        }

        ul.design-bullets li {
            position: relative;
            padding-left: 35px;
            margin-bottom: 15px;
        }

        ul.design-bullets li::before {
            content: 'ðŸ’¡';
            position: absolute;
            left: 0;
            top: -2px;
            font-size: 1.2rem;
        }
        
        /* Styled list for design options */
        .options-list {
            list-style: none;
            padding-left: 20px;
            margin-top: 15px;
        }

        .options-list li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 25px;
        }
        .options-list li::before {
            content: 'â€¢';
            color: #005A9C;
            font-weight: 900;
            position: absolute;
            left: 0;
            top: 0;
        }
        
        /* Numbered list for the motor journey */
        ol.journey-list {
            padding-left: 30px;
            margin-top: 15px;
        }
        ol.journey-list li {
            margin-bottom: 15px;
            font-weight: 400;
        }
        ol.journey-list li strong {
            color: #333;
        }


        /* ---------------------------------- */
        /* 6. "Team & Acknowledgements" Section */
        /* ---------------------------------- */
        .team-list {
            list-style: none;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .team-list li {
            background: #f0f0f0;
            border-radius: 12px; /* Soft "square" corners */
            padding: 12px 20px;
            font-weight: 700;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .team-list li:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .team-list li a {
            font-weight: 700;
        }
        
        .supporters p {
            text-align: center;
            font-size: 1.15rem;
            max-width: 800px;
            margin: 0 auto;
        }

        /* ---------------------------------- */
        /* 7. Footer / Contact Section        */
        /* ---------------------------------- */
        footer {
            background: #1a1a1a;
            color: #ccc;
            padding: 60px 0;
            text-align: center;
        }

        footer h2 {
            color: white;
            border: none;
        }

        footer p {
            font-size: 1.1rem;
            margin-bottom: 0;
        }

        footer a {
            color: white;
            font-weight: 700;
        }
        
        footer a:hover {
            text-decoration: underline;
        }

        /* ---------------------------------- */
        /* Responsive Design                  */
        /* ---------------------------------- */
        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-content p {
                font-size: 1.2rem;
            }

            h2 {
                font-size: 2rem;
            }

            .entry {
                padding: 25px 30px;
            }
            
            nav ul {
                padding: 0 10px;
            }
            
            nav li {
                margin: 5px 10px;
            }
        }

        @media (min-width: 768px) {
            .split-layout {
                flex-direction: row; /* Switch to side-by-side on desktop */
                align-items: flex-start;
            }
            
            /* Class to reverse image/text order */
            .split-layout.reverse {
                flex-direction: row-reverse;
            }
        }
    </style>
</head>
<body>

    <nav>
        <ul>
            <li><a href="#project">Project</a></li>
            <li><a href="#engineering">Engineering</a></li>
            <li><a href="#impact">Impact</a></li>
            <li><a href="#team">Team</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <header class="hero" id="hero">
        <div class="hero-content">
            <h1>Auto-AmbuBag - A Portable Automated BVM</h1>
            <p>A collaboration with Indus Hospital for disaster response and rural healthcare in Pakistan.</p>
        </div>
    </header>

    <main>
        <section id="project">
            <div class="container container-center">
                <h2>From Clinical Need to Working Device</h2>

                <div class="split-layout">
                    <div class="text-content">
                        <h3>The Challenge</h3>
                        <p><a href="https://indushospital.com.pk" target="_blank" rel="noopener noreferrer">Indus Hospital</a>, Pakistan's largest free healthcare network, serves 6 million people annually in a nation highly vulnerable to climate change and frequent floods. To support health needs during disasters and in remote areas, Indus Hospital needed a low-cost, safe, and portable ventilator.</p>
                        
                        <p>The key design requirements were:</p>
                        <ul class="requirements-list">
                            <li><b>Safe:</b> Active lung pressure monitoring, emergency stop, and manual mode.</li>
                            <li><b>Portable:</b> Lightweight, compact, and 2+ hours of battery operation.</li>
                            <li><b>Intuitive:</b> Simple controls for BPM, Tidal Volume, I/E ratio, and alarms.</li>
                            <li><b>Reliable:</b> A simple, rugged design for field operation.</li>
                            <li><b>Economical:</b> Total cost of ownership under $1000 per device.</li>
                            <li><b>Adult Use Only:</b> (With child/infant support planned for future releases).</li>
                        </ul>
                    </div>
                    <div class="image-container">
                        <img src="https://raw.githubusercontent.com/Friends-of-Indus-Hospital/Auto-Ambu-Bag/main/images/Complete%20Device%20and%20BVM%202.JPEG" alt="The complete Auto-AmbuBag device">
                        <figcaption>The Auto-AmbuBag Device</figcaption>
                    </div>
                </div>

                <div style="max-width: 900px; text-align: left; margin-top: 30px;">
                    <h3>Our Solution: Building on Open Source Foundations</h3>
                    <p>We began by standing on the shoulders of giants, starting with the <a href="https://emergency-vent.mit.edu/" target="_blank" rel="noopener noreferrer">MIT Emergency Ventilator</a>, a project born from the COVID-19 pandemic. We also researched other open-source designs, finding the <a href="https://www.monolithicpower.com/en/mps-open-source-ventilator" target="_blank" rel="noopener noreferrer">MPS design</a> to be a strong foundation. Our final solution learns from both, but modifies them in several key ways to meet the specific requirements of the Auto-AmbuBag.</p>
                </div>
            </div>
        </section>

        <section id="engineering" style="background-color: #f9f9f9;">
            <div class="container container-center">
                <h2>Our Design Process: A Quick Overview</h2>
                <p style="max-width: 900px; text-align: left; margin-bottom: 30px;">
                    We followed a methodical design process, starting with our core requirements and holding regular meetings with our advisors. We used an Arduino microcontroller and, like the MPS design, a gear system for rotational force. This approach improves portability and reliability. A key learning from the <a href="https://emergency-vent.mit.edu/mechanical/motor-selection/" target="_blank" rel="noopener noreferrer">MIT project</a> was to use a motor encoder to granularly control the respiration phases.
                </p>
                
                <p style="max-width: 900px; text-align: left;">
                    Leveraging existing open-source work allowed for rapid progress. However, several requirements unique to Indus Hospital's use case demanded innovation.
                </p>

                <ul class="design-bullets" style="max-width: 900px; text-align: left; margin-top: 20px;">
                    <li><b>Reduced Size:</b> We optimized the internal layout and sourced smaller components (power supply, integrated-gear motor) to create a final design significantly smaller than both the MIT and MPS references.</li>
                    <li><b>Battery Backup:</b> We incorporated a power management and battery charging module to switch seamlessly to battery power during outages.</li>
                    <li><b>12V Ecosystem:</b> We switched to a 12V system, enabling the device to be charged and operated from a standard ambulance power outlet during patient transport.</li>
                    <li><b>Power Efficiency:</b> We selected a 9 N-m motor (versus 15 N-m for resistant COVID lungs), significantly reducing power needs. A non-touch display with aggressive brightness controls further conserved power, eliminating the need for active cooling.</li>
                    <li><b>Future-Ready:</b> The design includes the ability to add an SpO2 sensor, allowing clinicians to monitor blood oxygen and make evidence-based adjustments.</li>
                </ul>

                <div class="entry">
                    <h3>Power System</h3>
                    <div class="split-layout reverse">
                        <div class="text-content">
                            <h4>Challenge</h4>
                            <p>Design a power system to run 4+ hours plugged in and 2+ hours on battery.</p>

                            <h4>Options Explored</h4>
                            <ul class="options-list">
                                <li><b>Motor Voltage:</b> A 24V motor is more efficient but would require a 12V boost converter, adding a point of failure.</li>
                                <li><b>Display:</b> We weighed OLED (price) vs. LED, and touch (power) vs. non-touch.</li>
                                <li><b>Battery:</b> We compared Lead-Acid (heavy, unsafe, low cycle life) with LiPo (requires a charging circuit).</li>
                            </ul>

                            <h4>Decision & Rationale</h4>
                            <p>We selected a 12V ecosystem. Testing confirmed a 12V motor could manage the load, simplifying the design and allowing for charging from ambulance outlets. We chose a <a href="https://a.co/d/ajeEThy" target="_blank" rel="noopener noreferrer">4-cell, 6Ah off-the-shelf Li-ion battery</a>, which is easily replaceable in Pakistan and exceeds the 2-hour requirement. For the display, a low-power 2.4-inch LED with configurable backlight proved to have negligible power draw.</p>
                        </div>
                        <div class="image-container">
                            <img src="https://raw.githubusercontent.com/Friends-of-Indus-Hospital/Auto-Ambu-Bag/main/images/Power%20system.JPEG" alt="Power System Diagram">
                            <figcaption>Power System</figcaption>
                        </div>
                    </div>
                </div>

                <div class="entry">
                    <h3>The Motor - The Heart of the System</h3>
                    <div class="split-layout">
                        <div class="text-content">
                            <h4>Challenge</h4>
                            <p>Find a high-torque, low-RPM motor that could generate controlled force to squeeze the AmbuBag while running on limited battery power.</p>

                            <h4>Options Explored: A Month-Long Journey</h4>
                            <p>This was our longest journey, filled with frustrating dead-ends. Our persistence here was key to the project's success.</p>
                            <ol class="journey-list">
                                <li><strong>BLDC Motor (from MPS):</strong> Excellent quality, but this <a href="https://www.mouser.com/datasheet/2/277/msm942077-24_r1.01_6-1609159.pdf" target="_blank" rel="noopener noreferrer">donated motor</a>'s 4000 RPM required a complex 100:1 planetary gear system, making the device too large.</li>
                                <li><strong>Stepper Motor (Attempt 1):</strong> We struggled with drivers for this <a href="https://a.co/d/0LqEFvk" target="_blank" rel="noopener noreferrer">low-rpm stepper motor</a>â€”the TMC2208 was hot, loud, and power-hungry. The TB6600 was better but still inefficient. We finally landed on the BTS7960 chipset.</li>
                                <li><strong>Stepper Motor (Attempt 2):</strong> The motor skipped under load. We added an encoder (as per MIT's learnings) but found the stepper motor stubbornly difficult to control.</li>
                                <li><strong>Stepper Motor (Attempt 3):</strong> A <a href="https://a.co/d/4Vv7Gwl" target="_blank" rel="noopener noreferrer">higher-torque motor</a> *still* skipped. We finally contacted the manufacturer, who explained that stepper motors are fundamentally unsuited for this application.</li>
                                <li><strong>DC Motor (Attempt 1):</strong> We switched to a <a href="https://www.pitsco.com/products/tetrix-max-torquenado-motor-with-encoder" target="_blank" rel="noopener noreferrer">TorqueNADO MAX</a> (5 N-m). It was smooth, but too weak for the full load.</li>
                            </ol>

                            <h4>Decision & Rationale</h4>
                            <p>We finally selected the <strong><a href="https://www.gobilda.com/5202-series-yellow-jacket-planetary-gear-motor-71-2-1-ratio-24mm-length-6mm-d-shaft-84-rpm-36mm-gearbox-3-3-5v-encoder/" target="_blank" rel="noopener noreferrer">goBILDA Yellow Jacket DC brushed motor</a></strong> (9 N-m torque at 84 rpm). This motor met all our needs: low RPM, high torque, a built-in encoder, and low cost ($55). The goBILDA ecosystem also provided readily available mounts and drivers. This long process taught us the value of methodical testing and resilience.</p>
                        </div>
                        <div class="image-container">
                            <img src="https://raw.githubusercontent.com/Friends-of-Indus-Hospital/Auto-Ambu-Bag/main/images/Motor%2012V.JPEG" alt="goBILDA Yellow Jacket Motor">
                            <figcaption>goBILDA Motor with encoder</figcaption>
                            <img src="https://raw.githubusercontent.com/Friends-of-Indus-Hospital/Auto-Ambu-Bag/main/images/Motor%20with%20gearing%20system.JPEG" alt="Motor Gearing System" style="margin-top: 20px;">
                            <figcaption>Gear system rotated by the motor</figcaption>
                        </div>
                    </div>
                </div>

                <div class="entry">
                    <h3>User Interface (UI) & Controls</h3>
                    <div class="split-layout reverse">
                        <div class="text-content">
                            <h4>Challenge</h4>
                            <p>Create a simple, intuitive interface for clinicians to set ventilation parameters (BPM, Tidal Volume, I/E Ratio, PIP alarm).</p>

                            <h4>Options Explored</h4>
                            <ul class="options-list">
                                <li><b>Navigation Pad:</b> A classic "up/down/left/right" control. Flexible, but requires many clicks to change a setting.</li>
                                <li><b>LCD Screen with Potentiometers:</b> Low power and very easy to use. Allows for quick, precise, and independent control of each setting.</li>
                            </ul>

                            <h4>Decision & Rationale</h4>
                            <p>We chose the potentiometer design. We will use four potentiometers to control each key parameter, allowing for rapid, instant adjustments. This tactile interface is also cheap and easy to replace in the field.</p>
                        </div>
                        <div class="image-container">
                            <img src="https://raw.githubusercontent.com/Friends-of-Indus-Hospital/Auto-Ambu-Bag/main/images/User%20Controls.JPEG" alt="User Interface Controls">
                            <figcaption>User Interface</figcaption>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <section id="impact">
            <div class="container container-center">
                <h2>Real-World Application & Pilot</h2>
                
                <h3 style="text-align: center;">Collaboration with <a href="https://indushospital.com.pk" target="_blank" rel="noopener noreferrer">Indus Hospital & Health Network</a></h3>
                
                <div class="split-layout reverse">
                    <div class="text-content">
                        <p>This project has been a deep collaboration with Indus Hospital staff from the start. The design meets all required specifications and has been approved by the biomedical department at Indus. Most of the original requirements are successfully implemented and tested. To ready the device for field testing at Indus Hospital, the following work remains:</p>
                        
                        <ul class="design-bullets" style="max-width: 900px; text-align: left; margin-top: 20px;">
                            <li><b>Pressure Sensor:</b> Integrate a <a href="https://www.mouser.com/ProductDetail/Honeywell/HSCMRRV001PD2A3" target="_blank" rel="noopener noreferrer">Honeywell medical-grade pressure sensor</a> to monitor and control airway pressure.</li>
                            <li><b>Localization:</b> Switch the power supply to the 220V AC standard used in Pakistan.</li>
                            <li><b>Testing & Calibration:</b> The Indus Biomedical group will test the device with a breathing simulator and calibrate it for their specific AmbuBag model.</li>
                            <li><b>SpO2 Sensor Integration:</b> The optional sensor has been implemented in software but not yet physically incorporated into the final device.</li>
                        </ul>
                    </div>
                    <div class="image-container">
                        <img src="https://raw.githubusercontent.com/Friends-of-Indus-Hospital/Auto-Ambu-Bag/main/images/Indus%20Hospital.jpg" alt="Indus Hospital">
                        <figcaption>Indus Hospital</figcaption>
                    </div>
                </div>
            </div>
        </section>

        <section id="team" style="background-color: #f9f9f9;">
            <div class="container container-center">
                <h2>Our Team & Supporters</h2>

                <h3>Core Project Team</h3>
                <ul class="team-list">
                    <li><a href="https://www.linkedin.com/in/batul-siddiqui-19212a378/" target="_blank" rel="noopener noreferrer">Batul Siddiqui</a> â€“ Hardware & Software Engineering</li>
                    <li><a href="https://www.linkedin.com/in/eshaal-fatima-152250237/" target="_blank" rel="noopener noreferrer">Eshaal Fatima</a> â€“ 3D Design & Fabrication (CAD)</li>
                    <li><a href="https://www.linkedin.com/in/divya-gill-387884274" target="_blank" rel="noopener noreferrer">Divya Gill</a> â€“ Documentation</li>
                </ul>

                <h3>Advisors & Mentors</h3>
                <ul class="team-list">
                    <li>Sadia Saleem: Asst. Manager Biomedical - Indus Hospital</li>
                    <li>Palwasha Khan: Respiratory Therapist - Indus Hospital</li>
                    <li>Zain Masaud: Clinical Nursing Instructor - Indus Hospital</li>
                    <li>Faraz Khan: Principal Hardware Engineering - Exact Sciences</li>
                    <li>Adeel Siddiqui: VP Software Engineering - RelationalAI</li>
                </ul>
                
                <h3 style="margin-top: 40px;">Supporting Organizations</h3>
                <div class="supporters">
                    <p>We extend our sincere thanks to the medical team at <a href="https://indushospital.com.pk" target="_blank" rel="noopener noreferrer">Indus Hospital</a> for their guidance and to the <a href="https://www.monolithicpower.com/en/mps-open-source-ventilator" target="_blank" rel="noopener noreferrer">MPS Open Source Project</a> for their inspiration and motor donation.</p>
                </div>
            </div>
        </section>
    </main>

    <footer id="contact">
        <div class="container">
            <h2>Contact the Team</h2>
            <p>For inquiries, please contact: <a href="mailto:batulfsiddiqui@outlook.com">batulfsiddiqui@outlook.com</a></p>
        </div>
    </footer>

</body>
</html>
